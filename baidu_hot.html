<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>百度旅游关注热词分析</title>
	<link rel="stylesheet" href="css/default.css">
	<link rel="stylesheet" href="css/style.css">
	<script src="js/jquery-1.10.2.min.js" type="text/javascript"></script>
	<script src="js/echarts.min .js" type="text/javascript"></script>
	<script src="js/ecStat.min.js" type="text/javascript"></script>
	<script src="js/china.js" type="text/javascript"></script>
	<script src="js/gx.js" type="text/javascript"></script>
	<link rel="stylesheet" type="text/css" href="http://at.alicdn.com/t/font_vsomejrxine6zuxr.css">
</head>
<body>
    <div class="containerWrap clearfix baiduWrap">
		<!--标题-->
		<div class="gx-title box">
			<h1>百度旅游关注热词分析</h1>
			<div class="nav">
				<a href="javascript:;"  class="menu menu-list">
					<i class="iconfont icon-dh"></i> 导航
				</a>
				<a href="index.html" class="menu menu-index">
					<i class="iconfont icon-index"></i> 返回首页
				</a>
			</div>
			<!--下拉菜单-->
			<div class="menu-box none">
				<ul>
					<li><a href="count.html">全部统计</a></li>
					<li><a href="list.html">新闻资讯列表</a></li>
					<li><a href="profile.html">网络关注度排名</a></li>
					<li><a href="scenic.html">广西景区排名</a></li>
					<li><a href="weather.html">气象环保分析</a></li>
					<li><a href="keliu.html">广西客流来源分布</a></li>
					<li><a href="hot_search.html">广西城市热搜分析</a></li>
					<li><a href="mudidi.html">广西游客出境/国内目的地分析</a></li>
					<li><a href="baidu_hot.html">百度旅游关注热词分析</a></li>
					<li><a href="manyidu.html">游客满意度统计分析</a></li>
					<li><a href="zixun.html">同业担保交易实时</a></li>
					<li><a href="hetong.html">电子合同出游实时</a></li>
					<li><a href="website.html">旅行社网站使用统计</a></li>
					<li><a href="wei_card.html">旅行社从业人员微名片分布</a></li>
					<li><a href="chengxin_qiye.html">诚信企业分析</a></li>
					<li><a href="xiaofei_nianling.html">游客消费水平及年龄分析</a></li>
					<li><a href="shuangchuang.html">双创人群统计</a></li>
				</ul>
			</div>
		</div>
		<!--内容-->
		<div class="baidu-main box" id="item1">
			<h1>[ 旅游关注度热词分析 ]</h1>
			<span style="color:#2ed7d1;left:20%;top:22%;font-size: 5vh;">风景</span>
			<span style="color:#0eb247;left:45%;top:14%;font-size:6vh;">沙滩</span>
			<span style="color:#d7cf0d;left:65%;top:12%;font-size:5.6vh;">象鼻山</span>
			<span style="color:#cf0c31;left:70%;top:27%;font-size:5vh;">柳州</span>
			<span style="color:#a76a12;left:50%;top:42%;font-size:5vh;">涠洲岛</span>
			<span style="color:#81a61d;left:60%;top:50%;font-size:5vh;">漓江风光</span>
			<span style="color:#3fe762;left:35%;top:52%;font-size:6vh;">古镇</span>
			<span style="color:#35e1df;left:45%;top:58%;font-size:8.5vh;">淳朴人家</span>
			<span style="color:#9235e1;left:30%;top:72%;font-size:6.5vh;">北部湾</span>
			<span style="color:#4d6ee7;left:70%;top:67%;font-size:6.5vh;">漓江</span>
			<span style="color:#f64ffc;left:28%;top:27%;font-size:9vh;">桂林山水甲天下</span>
		</div>
		<div class="baidu-main box" id="item2">
			<div class="baidu-main-list box">
				<div class="list-img">
					<div class="num">10W+</div>
					<img src="imgs/l1.jpg" alt="">
				</div>
				<h3 class="title">桂林漓江旅游-漓江风光</h3>
				<p class="even-ellipsis">漓江，属珠江流域西江水系，为支流桂江上游河段的通称，位于广西壮族自治区东北部。传统意义上的漓江起点为桂江源头越城岭猫儿山。</p>
			</div>
			<div class="baidu-main-list box">
				<div class="list-img">
					<div class="num">10W+</div>
					<img src="imgs/l2.jpg" alt="">
				</div>
				<h3 class="title">涠洲岛</h3>
				<p class="even-ellipsis">涠洲岛，位于广西壮族自治区北海市北部湾海域中部，北临广西北海市，东望雷州半岛，东南与斜阳岛毗邻，南与海南岛隔海相望，西面面向越南。</p>
			</div>
			<div class="baidu-main-list box">
				<div class="list-img">
					<div class="num">10W+</div>
					<img src="imgs/l3.jpg" alt="">
				</div>
				<h3 class="title">象鼻山</h3>
				<p class="even-ellipsis">象鼻山原名漓山，位于广西区桂林市内桃花江与漓江汇流处，山因酷似一只站在江边伸鼻豪饮漓江甘泉的巨象而得名，被人们称为桂林山水的象征。</p>
			</div>
		</div>
    </div>


	<script>
		var getRandomColor = function(){

			return  '#' +
					(function(color){
						return (color +=  '0123456789abcdef'[Math.floor(Math.random()*16)])
						&& (color.length == 6) ?  color : arguments.callee(color);
					})('');
		}
	</script>
	<script>
		$.ajax({
			async: false,
			url: 'http://test.66diqiu.com/api/bigscreen/get_record?data_type=7',
			type: "GET",
			dataType: 'jsonp',
			timeout: 5000,
			success: function (json) {
				var html ='							<h1>[ 旅游关注度热词分析 ]</h1>				'
				for(var item of json.data.all_column[0]) {
					html += `			<span style="color:${getRandomColor()};left:${Math.round(Math.random()*80+1)}%;top:${Math.round(Math.random()*80+1)}%;font-size: ${Math.round(Math.random()*6+1)}vh;">${item}</span>
`
				}
				$('#item1').html(html);
				run();
			}
		});
	</script>

	<script>
		$.ajax({
			async: false,
			url: 'http://test.66diqiu.com/api/bigscreen/get_record?data_type=33',
			type: "GET",
			dataType: 'jsonp',
			timeout: 5000,
			success: function (json) {console.log(json);
				var html ='	'
				for(var item of json.data.content) {
					html += `<div class="baidu-main-list box">
								<div class="list-img">
									<div class="num">${ item[3] }</div>
									<img src="${item[5]}" alt="">
								</div>
								<h3 class="title">${ item[0] }</h3>
								<p class="even-ellipsis">${ item[1] }</p>
							</div>`
				}
				$('#item2').html(html)
			}
		});
	</script>
	<script type="text/javascript">
	// console.log($(window).width());
	function run(){

		var radius = $(window).width()*0.1;
		var dtr = Math.PI/180;
		var d=300;
		var mcList = [];
		var active = false;
		var lasta = 1;
		var lastb = 1;
		var distr = true;
		var tspeed=10;
		var size=250;

		var mouseX=0;
		var mouseY=0;

		var howElliptical=1;

		var aA=null;
		var oDiv=null;

		window.onload=function ()
		{
			var i=0;
			var oTag=null;
			
			oDiv=document.getElementById('item1');
			
			aA=oDiv.getElementsByTagName('span');
			
			for(i=0;i<aA.length;i++)
			{
				oTag={};
				
				oTag.offsetWidth=aA[i].offsetWidth;
				oTag.offsetHeight=aA[i].offsetHeight;
				
				mcList.push(oTag);
			}
			
			sineCosine( 0,0,0 );
			
			positionAll();
			
			oDiv.onmouseover=function ()
			{
				active=true;
			};
			
			oDiv.onmouseout=function ()
			{
				active=false;
			};
			
			oDiv.onmousemove=function (ev)
			{
				var oEvent=window.event || ev;
				
				mouseX=oEvent.clientX-(oDiv.offsetLeft+oDiv.offsetWidth/2);
				mouseY=oEvent.clientY-(oDiv.offsetTop+oDiv.offsetHeight/2);
				
				mouseX/=5;
				mouseY/=5;
			};
			
			setInterval(update, 30);
		};

		function update()
		{
			var a;
			var b;
			
			if(active)
			{
				a = (-Math.min( Math.max( -mouseY, -size ), size ) / radius ) * tspeed;
				b = (Math.min( Math.max( -mouseX, -size ), size ) / radius ) * tspeed;
			}
			else
			{
				a = lasta * 0.98;
				b = lastb * 0.98;
			}
			
			lasta=a;
			lastb=b;
			
			if(Math.abs(a)<=0.01 && Math.abs(b)<=0.01)
			{
				return;
			}
			
			var c=0;
			sineCosine(a,b,c);
			for(var j=0;j<mcList.length;j++)
			{
				var rx1=mcList[j].cx;
				var ry1=mcList[j].cy*ca+mcList[j].cz*(-sa);
				var rz1=mcList[j].cy*sa+mcList[j].cz*ca;
				
				var rx2=rx1*cb+rz1*sb;
				var ry2=ry1;
				var rz2=rx1*(-sb)+rz1*cb;
				
				var rx3=rx2*cc+ry2*(-sc);
				var ry3=rx2*sc+ry2*cc;
				var rz3=rz2;
				
				mcList[j].cx=rx3;
				mcList[j].cy=ry3;
				mcList[j].cz=rz3;
				
				per=d/(d+rz3);
				
				mcList[j].x=(howElliptical*rx3*per)-(howElliptical*2);
				mcList[j].y=ry3*per;
				mcList[j].scale=per;
				mcList[j].alpha=per;
				
				mcList[j].alpha=(mcList[j].alpha-0.6)*(10/6);
			}
			
			doPosition();
			depthSort();
		}

		function depthSort()
		{
			var i=0;
			var aTmp=[];
			
			for(i=0;i<aA.length;i++)
			{
				aTmp.push(aA[i]);
			}
			
			aTmp.sort
			(
				function (vItem1, vItem2)
				{
					if(vItem1.cz>vItem2.cz)
					{
						return -1;
					}
					else if(vItem1.cz<vItem2.cz)
					{
						return 1;
					}
					else
					{
						return 0;
					}
				}
			);
			
			for(i=0;i<aTmp.length;i++)
			{
				aTmp[i].style.zIndex=i;
			}
		}

		function positionAll()
		{
			var phi=0;
			var theta=0;
			var max=mcList.length;
			var i=0;
			
			var aTmp=[];
			var oFragment=document.createDocumentFragment();
			
			//随机排序
			for(i=0;i<aA.length;i++)
			{
				aTmp.push(aA[i]);
			}
			
			aTmp.sort
			(
				function ()
				{
					return Math.random()<0.5?1:-1;
				}
			);
			
			for(i=0;i<aTmp.length;i++)
			{
				oFragment.appendChild(aTmp[i]);
			}
			
			oDiv.appendChild(oFragment);
			
			for( var i=1; i<max+1; i++){
				if( distr )
				{
					phi = Math.acos(-1+(2*i-1)/max);
					theta = Math.sqrt(max*Math.PI)*phi;
				}
				else
				{
					phi = Math.random()*(Math.PI);
					theta = Math.random()*(2*Math.PI);
				}
				//坐标变换
				mcList[i-1].cx = radius * Math.cos(theta)*Math.sin(phi);
				mcList[i-1].cy = radius * Math.sin(theta)*Math.sin(phi);
				mcList[i-1].cz = radius * Math.cos(phi);
				
				aA[i-1].style.left=mcList[i-1].cx+oDiv.offsetWidth/2-mcList[i-1].offsetWidth/2+'px';
				aA[i-1].style.top=mcList[i-1].cy+oDiv.offsetHeight/2-mcList[i-1].offsetHeight/2+'px';
			}
		}

		function doPosition()
		{
			var l=oDiv.offsetWidth/2;
			var t=oDiv.offsetHeight/2;
			for(var i=0;i<mcList.length;i++)
			{
				aA[i].style.left=mcList[i].cx+l-mcList[i].offsetWidth/2+'px';
				aA[i].style.top=mcList[i].cy+t-mcList[i].offsetHeight/2+'px';
				
				aA[i].style.fontSize=Math.ceil(12*mcList[i].scale/2)+8+'px';
				
				aA[i].style.filter="alpha(opacity="+100*mcList[i].alpha+")";
				aA[i].style.opacity=mcList[i].alpha;
			}
		}

		function sineCosine( a, b, c)
		{
			sa = Math.sin(a * dtr);
			ca = Math.cos(a * dtr);
			sb = Math.sin(b * dtr);
			cb = Math.cos(b * dtr);
			sc = Math.sin(c * dtr);
			cc = Math.cos(c * dtr);
		}
	}
	// run();
	</script>
</body>
</html>

























